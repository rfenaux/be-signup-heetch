jQuery(function(a){a(".so-addon-banner").each(function(){var s=a(this);if(!s.find("img").length){var n=Trianglify({width:128,height:128,variance:1,cell_size:32,seed:s.data("seed")});s.append(n.svg())}}),a(".so-addon").each(function(){var s=a(this),n=s.data("id"),i=s.data("section");s.find(".so-addon-toggle-active button").click(function(o){var t=a(this),d=parseInt(t.data("status"));t.prop("disabled",!0),a.post(a("#addons-list").data("action-url"),{id:n,section:i,status:d},function(n){if(t.prop("disabled",!1),d?(s.removeClass("so-addon-is-inactive").addClass("so-addon-is-active"),s.find(".so-addon-settings").show()):(s.removeClass("so-addon-is-active").addClass("so-addon-is-inactive"),s.find(".so-addon-settings").hide()),void 0!==n.action_links&&n.action_links.length){var i=s.find(".so-addon-links").empty();i.length||(i=a('<div class="so-addon-links"></div>').insertAfter(s.find(".so-addon-name"))),i.html(n.action_links.join(" | "))}a(window).resize()})})}),a(".so-addon .so-addon-tags a").click(function(s){s.preventDefault();var i=a(this);a(".addons-search").val(i.data("tag")),n()});var s="";a(".page-sections a").click(function(i){i.preventDefault(),a(".page-sections li").removeClass("active-section");var o=a(this);s=o.data("section"),o.parent("li").addClass("active-section"),n()});var n=function(){var n=s,i=a(".addons-search").val();""===i?""===n?a(".so-addon-wrap").show():(a(".so-addon-wrap").hide(),a('.so-addon[data-section="'+s+'"]').parents().show()):a(".so-addon").each(function(){var s=a(this),o=s.find("h3").html()+" "+s.find(".so-addon-description").html();s.find(".so-addon-tags a").each(function(){o+=a(this).data("tag")+" "}),o.toLowerCase().indexOf(i)>-1&&(""===n||s.data("section")===n)?s.parent().show():s.parent().hide()})};n(),a(".addons-search").on({keyup:n,change:n,search:n}),a(window).resize(function(){var s=a(".so-addon").css("height","auto"),n=0;s.each(function(){n=Math.max(n,a(this).height())}),s.each(function(){a(this).css("height",n)})}).resize();var i=a("#siteorigin-premium-settings-dialog"),o=a("#addons-list .so-addon-settings");o.click(function(s){var n=a(this);s.preventDefault();var o=i.find(".so-content");o.empty().addClass("so-loading"),a.get(n.data("form-url")).done(function(a){o.html(a)}).fail(function(a){o.html(soPremiumAddons.settingsForm.error),console.error(a)}).always(function(){o.removeClass("so-loading")}),i.show()}),i.find(".so-close").click(function(a){a.preventDefault(),i.hide()}),i.find(".so-save").click(function(s){s.preventDefault();var n=a(this);n.prop("disabled",!0),o.prop("disabled",!0),i.find("form").submit(function(){n.prop("disabled",!1),i.hide()}).submit()}),a("#so-premium-addon-settings-save").load(function(){a("#addons-list .so-addon-settings").prop("disabled",!1)})});